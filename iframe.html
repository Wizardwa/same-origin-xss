<script>
"use strict";
window.addEventListener("message", event => {
if (event.origin === window.origin) {
  switch(event.data.type) {
    case "decode":
      let decoded = atob(event.data.content);
      window.parent.postMessage({type: "decoded", content: decoded}, window.origin);
      break
    case "encode":
      let encoded = btoa(event.data.content);
      window.parent.postMessage({type: "encoded", content: encoded}, window.origin);
      break
  }
}
});
</script>
